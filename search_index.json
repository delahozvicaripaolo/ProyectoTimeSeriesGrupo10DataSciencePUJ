[["index.html", "Faros del Mercado: Índices Bursátiles que Guían la Economía Mundial. Chapter 1 Descripción del proceso y justificación del análisis de los valores bursátiles en los principales mercados globales: Estados Unidos, Europa y Asia. 1.1 Descripción del proyecto. 1.2 Justificación e importancia del análisis.", " Faros del Mercado: Índices Bursátiles que Guían la Economía Mundial. Paolo De La Hoz Vicari, Genjis Ossa Gonzales 2025-05-12 Chapter 1 Descripción del proceso y justificación del análisis de los valores bursátiles en los principales mercados globales: Estados Unidos, Europa y Asia. 1.1 Descripción del proyecto. El proyecto se centrará en tres regiones clave: Estados Unidos (S&amp;P 500, NASDAQ, Dow Jones), Europa (DAX, CAC 40, FTSE 100) y Asia (Nikkei 225, Hang Seng, Shanghai Composite). Para cada índice, se recopilará información histórica diaria sobre precios de cierre, volumen y variación porcentual. Posteriormente, se realizará una limpieza y estructuración de los datos, seguida de un análisis exploratorio para identificar patrones, estacionalidades y correlaciones. A partir de esto, se aplicarán modelos de pronóstico como ARIMA, Prophet o técnicas de aprendizaje automático para estimar las tendencias futuras. El objetivo es generar una herramienta que permita anticipar cambios significativos y pronosticar valores en los mercados para la toma de decisiones. 1.2 Justificación e importancia del análisis. En el actual entorno económico, caracterizado por una creciente interconexión y volatilidad, el análisis y pronóstico de los valores de acciones en los principales mercados financieros es esencial para comprender las dinámicas económicas internacionales, anticipar crisis, identificar oportunidades de inversión y formular políticas económicas informadas.El análisis de los valores bursátiles en los principales mercados financieros (Estados Unidos, Europa y Asia) es fundamental para la toma de decisiones estratégicas en contextos económicos globalizados. Estos mercados, representan los polos financieros más influyentes del mundo, cuyas dinámicas afectan directa e indirectamente a las economías emergentes, al comercio internacional y a la inversión institucional y minorista. El análisis y pronóstico de estos valores permite anticipar tendencias, gestionar riesgos, optimizar carteras de inversión, comprender la interacción entre factores macroeconómicos (PIB, inflación, tasas de interés), eventos exógenos (guerras, pandemias, desastres naturales) y dinámicas propias de cada región (regulaciones, política monetaria, innovación tecnológica). Siendo una herramienta esencial tanto para inversores individuales como para instituciones financieras globales. Además, brinda información clave sobre la salud económica y la proyección futura de regiones que representan más del 75% del PIB mundial. Esta información no solo es clave para inversionistas, sino también para instituciones públicas y privadas que buscan estabilidad financiera, planificación a largo plazo y toma de decisiones estratégicas. En el caso de Estados Unidos, el mercado bursátil (representado por índices como el S&amp;P 500, NASDAQ y Dow Jones) es considerado un barómetro global de confianza económica y tecnológica. Su influencia es tal que las decisiones de la Reserva Federal o los resultados trimestrales de empresas como Apple o Microsoft pueden generar reacciones en cadena en los demás continentes. Europa, a través de bolsas como la de Frankfurt (DAX), París (CAC 40) o Londres (FTSE 100), representa un mercado con alta diversificación industrial, energética y financiera. Su relevancia radica en ser un punto de referencia para políticas regulatorias, estabilidad monetaria (especialmente en la zona euro) y tensiones geopolíticas que afectan la confianza de los inversionistas. Finalmente, Asia, con focos principales en Japón (Nikkei 225), China (Shanghai Composite) y Hong Kong (Hang Seng), constituye el eje de crecimiento económico más dinámico. China en particular, como segunda economía mundial, tiene un impacto decisivo en cadenas de suministro, comercio exterior y mercados emergentes. Principales Mercados Bursatiles "],["referencias.html", "Chapter 2 Referencias", " Chapter 2 Referencias Bloomberg Markets: https://www.bloomberg.com/markets Yahoo Finance: https://finance.yahoo.com World Bank Data: https://data.worldbank.org Financial Times – Markets: https://www.ft.com/markets "],["desarrollo-actividad-2..html", "Chapter 3 Desarrollo Actividad 2. 3.1 Preprocesamiento de datos. 3.2 Gráfico de evolución histórica de todos los índices. 3.3 Promedios Móviles 3.4 AutoCorrelación ACF 3.5 Descomposición de serie de tiempo. 3.6 Tabla de resumen con tendencia, estacionalidad y ruido; para todos los indices. 3.7 Mapa de calor", " Chapter 3 Desarrollo Actividad 2. 3.1 Preprocesamiento de datos. 3.1.1 Cargar las librerías necesarias Code # Configuración global para los chunks knitr::opts_chunk$set( fig.path = &quot;figures/&quot;, # Carpeta donde se guardan los gráficos echo = TRUE ) library(quantmod) # Para descargar datos financieros library(dplyr) # Para manipular datos library(zoo) # Para series de tiempo basadas en fechas library(ggplot2) # Para gráficos library(tidyr) # Para transformar los datos library(urca) library(tseries) library(plotly) library(forecast) library(Metrics) 3.1.2 Definimos los índices bursátiles de interés (Yahoo Finance symbols). Code indices &lt;- c(&quot;^GSPC&quot;, &quot;^DJI&quot;, &quot;^IXIC&quot;, &quot;^GDAXI&quot;, &quot;^FCHI&quot;, &quot;^FTSE&quot;, &quot;^N225&quot;, &quot;^HSI&quot;, &quot;000001.SS&quot;) 3.1.3 Descargamos los datos de Yahoo Finance desde el 2019. Code lista_indices &lt;- lapply(indices, function(ticker) { getSymbols(ticker, src = &quot;yahoo&quot;, from = &quot;2019-01-01&quot;, auto.assign = FALSE) }) 3.1.4 Asignamos nombres a cada índice. Code nombres_indices &lt;- c(&quot;SP500&quot;, &quot;DowJones&quot;, &quot;Nasdaq&quot;, &quot;DAX&quot;, &quot;CAC40&quot;, &quot;FTSE100&quot;, &quot;Nikkei225&quot;, &quot;HangSeng&quot;, &quot;ShanghaiComposite&quot;) names(lista_indices) &lt;- nombres_indices 3.1.5 Extraemos solo los precios de cierre y convertimos cada serie en un objeto zoo. Code cierres_zoo &lt;- lapply(lista_indices, function(serie) { zoo(Cl(serie)) # Cl() extrae el &#39;Close&#39; y zoo() lo convierte a objeto de series de tiempo }) 3.1.6 Unimos todas las series zoo en un solo objeto. Code cierres_merged &lt;- do.call(merge, cierres_zoo) 3.1.7 Visualizamos la estructura. Code head(cierres_merged) ## GSPC.Close DJI.Close IXIC.Close GDAXI.Close FCHI.Close FTSE.Close N225.Close HSI.Close 000001.SS.Close ## 2019-01-02 2510.03 23346.24 6665.94 10580.19 4689.39 6734.2 NA 25130.35 2465.291 ## 2019-01-03 2447.89 22686.22 6463.50 10416.66 4611.49 6692.7 NA 25064.36 2464.363 ## 2019-01-04 2531.94 23433.16 6738.86 10767.69 4737.12 6837.4 19561.96 25626.03 2514.868 ## 2019-01-07 2549.69 23531.35 6823.47 10747.81 4719.17 6810.9 20038.97 25835.70 2533.089 ## 2019-01-08 2574.41 23787.45 6897.00 10803.98 4773.27 6861.6 20204.04 25875.45 2526.462 ## 2019-01-09 2584.96 23879.12 6957.08 10893.32 4813.58 6906.6 20427.06 26462.32 2544.345 3.2 Gráfico de evolución histórica de todos los índices. 3.2.1 Convertir a un data frame para ggplot y reestructuración en formato largo para gráficos. Code cierres_df &lt;- data.frame(Date = index(cierres_merged), coredata(cierres_merged)) cierres_long &lt;- cierres_df %&gt;% pivot_longer(cols = -Date, names_to = &quot;Indice&quot;, values_to = &quot;Cierre&quot;) 3.2.2 Gráfico. El gráfico muestra la evolución diaria de los precios de cierre de los principales índices bursátiles a nivel mundial desde 2019 hasta la fecha actual. Cada línea representa un índice diferente, con escalas independientes de precio en el eje Y y fechas en el eje X. Eje X: Fecha (de 2019 a 2025). Eje Y: Precio de cierre (escala real de cada índice). Variables representadas: SP500, Dow Jones, Nasdaq, DAX, CAC40, FTSE100, Nikkei225, Hang Seng, Shanghai Composite. Code ggplot(cierres_long, aes(x = Date, y = Cierre, color = Indice)) + geom_line() + labs( title = &quot;Evolución histórica de índices bursátiles (2019-Actualidad)&quot;, x = &quot;Fecha&quot;, y = &quot;Precio de Cierre&quot;, color = &quot;Índice&quot; ) + theme_minimal() 3.3 Promedios Móviles 3.3.1 Aplicamos promedio móvil (7, 30, 90 días) para cada índice. Code promedios_moviles &lt;- lapply(cierres_zoo, function(serie) { data.frame( Fecha = index(serie), Original = as.numeric(serie), MA_7 = as.numeric(rollmean(serie, k = 7, fill = NA, align = &quot;right&quot;)), MA_30 = as.numeric(rollmean(serie, k = 30, fill = NA, align = &quot;right&quot;)), MA_90 = as.numeric(rollmean(serie, k = 90, fill = NA, align = &quot;right&quot;)) ) }) 3.3.2 Asignamos los nombres de los indices Code names(promedios_moviles) &lt;- nombres_indices 3.3.3 Graficamos los promedios móviles en todos los indices con (7, 30, 90 días) SP500: Crecimiento fuerte post-pandemia, promedios móviles confirman tendencia alcista estructural, recuperación rápida tras caídas. Dow Jones: Crecimiento sostenido, mayor sensibilidad a choques globales, MA_90 actúa como soporte de tendencia. Nasdaq: Expansión explosiva durante 2020-2022, correcciones posteriores, fuerte volatilidad de corto plazo. DAX: Recuperación sólida, crecimiento más moderado que SP500, volatilidad controlada en 2023-2024. CAC40: Crecimiento progresivo, recuperación fuerte post-pandemia, estabilidad pese a contexto europeo incierto. FTSE100: Recuperación más lenta, crecimiento más estable pero menos acelerado, reflejando impacto de Brexit y COVID-19. Nikkei225: Crecimiento firme y constante, volatilidad moderada, estabilidad asiática frente a shocks externos. HangSeng: Tendencia decreciente persistente, afectado por tensiones políticas y regulación, no logra recuperación estructural. Shanghai Composite: Oscilaciones cíclicas sin tendencia fuerte, movimientos suaves ligados a política económica interna. Code graficar_promedios_moviles &lt;- function(df, nombre_indice) { df_long &lt;- df %&gt;% pivot_longer(cols = c(&quot;Original&quot;, &quot;MA_7&quot;, &quot;MA_30&quot;, &quot;MA_90&quot;), names_to = &quot;Serie&quot;, values_to = &quot;Valor&quot;) ggplot(df_long, aes(x = Fecha, y = Valor, color = Serie)) + geom_line() + labs( title = paste(nombre_indice, &quot;- Evolución y Promedios Móviles (7, 30, 90 días)&quot;), x = &quot;Fecha&quot;, y = &quot;Precio&quot;, color = &quot;Serie&quot; ) + theme_minimal() } for (indice in nombres_indices) { print(graficar_promedios_moviles(promedios_moviles[[indice]], indice)) } 3.4 AutoCorrelación ACF 3.4.1 Graficamos la autocorrelación (ACF) en todos los indices. SP500: Presenta autocorrelaciones extremadamente altas en todos los lags. Indica muy alta dependencia temporal, el precio de hoy está casi totalmente explicado por el precio de ayer, anteayer, etc. DowJones: Patrón idéntico al SP500, autocorrelaciones cercanas a 1 hasta el lag 30. Confirma fuerte persistencia y memoria de largo plazo en el comportamiento de precios. Nasdaq: Igual que SP500 y DowJones, persistencia total en los precios diarios. Movimiento fuertemente dependiente de valores anteriores. Alta estabilidad interna. DAX: Alta autocorrelación, pero comienza a decrecer muy lentamente conforme aumenta el lag. Muestra persistencia, aunque ligeramente menos rígida que en índices estadounidenses. CAC40: Comportamiento muy similar al DAX con alta autocorrelación inicial, pero con una leve pendiente descendente a partir del lag 10. Indica ligero debilitamiento de la dependencia en el tiempo. FTSE100: Alta autocorrelación, pero con una pendiente descendente más pronunciada que en DAX o CAC40. La dependencia de precios pasados existe pero se va diluyendo más rápido. Nikkei225: Persistencia fuerte (autocorrelaciones cercanas a 1), aunque ligeramente más “sueltas” que en los mercados occidentales. Los precios tienden a ser explicados por valores pasados, pero hay algo más de ruido. HangSeng: Alta autocorrelación inicial, pero decayendo progresivamente con el lag. Refleja una memoria de precios, aunque menos estable y más volátil que SP500 o DowJones. Shanghai Composite: Es el único donde la autocorrelación desciende de forma continua y más marcada a medida que crece el lag. Esto indica que la memoria de los precios se erosiona rápidamente en China. Mayor aleatoriedad y menor persistencia estructural en los precios. Code graficar_acf &lt;- function(serie, nombre_indice) { serie_sin_na &lt;- na.omit(serie) # 1. Eliminar los valores faltantes (NA) acf(coredata(serie_sin_na), # 2. Calcula autocorrelaciones lag.max = 30, # 3. Mide autocorrelaciones hasta 30 rezagos (lags) main = paste(&quot;Autocorrelación (ACF) -&quot;, nombre_indice)) # 4. Título del gráfico } # Aplicar la función a todos los índices for (indice in nombres_indices) { graficar_acf(cierres_zoo[[indice]], indice) } 3.5 Descomposición de serie de tiempo. 3.5.1 Descomponemos y graficamos los indices bursatiles utilizando la forma clasica y STL con pasos de limpieza e implementación. Code descomponer_y_graficar &lt;- function(serie_zoo, nombre_indice) { # Eliminamos NA serie_limpia &lt;- na.omit(serie_zoo) # Convertimos a vector numérico puro valores_numericos &lt;- as.numeric(serie_limpia) # Convertimos a objeto ts serie_ts &lt;- ts(valores_numericos, start = c(2019, 1), frequency = 252) # Graficamos descomposición clásica plot(decompose(serie_ts)) mtext(paste(&quot;Descomposición Clásica -&quot;, nombre_indice), side = 3, line = 1, cex = 1.5) # Graficamos descomposición STL plot(stl(serie_ts, s.window = &quot;periodic&quot;)) mtext(paste(&quot;Descomposición STL -&quot;, nombre_indice), side = 3, line = 1, cex = 1.5) } # Aplicamos la función a todos los índices for (indice in nombres_indices) { descomponer_y_graficar(cierres_zoo[[indice]], indice) } 3.6 Tabla de resumen con tendencia, estacionalidad y ruido; para todos los indices. Code analizar_comportamiento &lt;- function(serie_zoo) { serie_limpia &lt;- na.omit(serie_zoo) # Validar que tenga suficientes datos if (length(serie_limpia) &lt; 30) { return(c(Tendencia = NA, Estacionalidad = NA, Ruido = NA)) } valores &lt;- as.numeric(serie_limpia) ts_serie &lt;- ts(valores, start = c(2019, 1), frequency = 252) # Intentar descomposición STL descomposicion &lt;- tryCatch({ stl(ts_serie, s.window = &quot;periodic&quot;) }, error = function(e) { return(NULL) }) if (is.null(descomposicion)) { return(c(Tendencia = NA, Estacionalidad = NA, Ruido = NA)) } trend &lt;- descomposicion$time.series[, &quot;trend&quot;] seasonal &lt;- descomposicion$time.series[, &quot;seasonal&quot;] remainder &lt;- descomposicion$time.series[, &quot;remainder&quot;] # Validar que trend tenga al menos dos valores válidos if (sum(!is.na(trend)) &lt; 2) { return(c(Tendencia = NA, Estacionalidad = NA, Ruido = NA)) } # Extraer extremos no NA para la tendencia primer_valido &lt;- trend[which(!is.na(trend))[1]] ultimo_valido &lt;- trend[rev(which(!is.na(trend)))[1]] media_trend &lt;- mean(trend, na.rm = TRUE) # Calcular cambio de tendencia de forma segura cambio_tendencia &lt;- (ultimo_valido - primer_valido) / media_trend if (is.na(cambio_tendencia)) { tendencia_eval &lt;- NA } else if (abs(cambio_tendencia) &gt; 0.1) { tendencia_eval &lt;- ifelse(cambio_tendencia &gt; 0, &quot;Creciente&quot;, &quot;Decreciente&quot;) } else { tendencia_eval &lt;- &quot;Estable&quot; } promedio_nivel &lt;- mean(valores, na.rm = TRUE) amplitud_estacional &lt;- max(seasonal, na.rm = TRUE) - min(seasonal, na.rm = TRUE) estacionalidad_eval &lt;- if ((amplitud_estacional / promedio_nivel) &gt; 0.05) { &quot;Fuerte&quot; } else { &quot;Débil&quot; } sd_ruido &lt;- sd(remainder, na.rm = TRUE) ruido_eval &lt;- if ((sd_ruido / promedio_nivel) &gt; 0.05) { &quot;Alto&quot; } else { &quot;Moderado&quot; } return(c(Tendencia = tendencia_eval, Estacionalidad = estacionalidad_eval, Ruido = ruido_eval)) } # Aplicar la función a todos los índices resumen_automatico &lt;- t(sapply(cierres_zoo, analizar_comportamiento)) # Convertir a data frame con nombres claros resumen_automatico_df &lt;- data.frame( Indice = rownames(resumen_automatico), Tendencia = resumen_automatico[, &quot;Tendencia&quot;], Estacionalidad = resumen_automatico[, &quot;Estacionalidad&quot;], Ruido = resumen_automatico[, &quot;Ruido&quot;], row.names = NULL ) # Mostrar tabla knitr::kable( resumen_automatico_df, caption = &quot;Resumen automático de la tendencia, estacionalidad y ruido observados por índice (basado en descomposición STL).&quot; ) Table 3.1: Resumen automático de la tendencia, estacionalidad y ruido observados por índice (basado en descomposición STL). Indice Tendencia Estacionalidad Ruido SP500 Creciente Fuerte Moderado DowJones Creciente Fuerte Moderado Nasdaq Creciente Fuerte Moderado DAX Creciente Fuerte Moderado CAC40 Creciente Fuerte Moderado FTSE100 Creciente Fuerte Moderado Nikkei225 Creciente Fuerte Moderado HangSeng Decreciente Fuerte Moderado ShanghaiComposite Creciente Fuerte Moderado 3.7 Mapa de calor Code # Usamos el resumen automático que ya creamos resumen_mapa &lt;- resumen_automatico_df # Codificar las variables cualitativas a valores numéricos resumen_mapa_numeric &lt;- resumen_mapa %&gt;% mutate( Tendencia = case_when( Tendencia == &quot;Creciente&quot; ~ 1, Tendencia == &quot;Decreciente&quot; ~ -1, Tendencia == &quot;Estable&quot; ~ 0, TRUE ~ NA_real_ ), Estacionalidad = case_when( Estacionalidad == &quot;Fuerte&quot; ~ 1, Estacionalidad == &quot;Débil&quot; ~ 0, TRUE ~ NA_real_ ), Ruido = case_when( Ruido == &quot;Alto&quot; ~ 1, Ruido == &quot;Moderado&quot; ~ 0, TRUE ~ NA_real_ ) ) # Reorganizar el dataframe en formato largo para ggplot resumen_long &lt;- resumen_mapa_numeric %&gt;% pivot_longer(cols = c(Tendencia, Estacionalidad, Ruido), names_to = &quot;Caracteristica&quot;, values_to = &quot;Valor&quot;) # Crear el Heatmap ggplot(resumen_long, aes(x = Caracteristica, y = Indice, fill = Valor)) + geom_tile(color = &quot;white&quot;) + scale_fill_gradient2( low = &quot;red&quot;, mid = &quot;white&quot;, high = &quot;green&quot;, midpoint = 0, limits = c(-1, 1), name = &quot;Nivel&quot; ) + labs( title = &quot;Mapa de Calor: Tendencia, Estacionalidad y Ruido por Índice&quot;, x = &quot;Componente&quot;, y = &quot;Índice Bursátil&quot; ) + theme_minimal() + theme(axis.text.x = element_text(angle = 45, hjust = 1)) "],["desarrollo-actividad-3..html", "Chapter 4 Desarrollo Actividad 3. 4.1 Validación de supuestos e implementación de transformaciones requeridas en las series. 4.2 Tabla de resumen.", " Chapter 4 Desarrollo Actividad 3. 4.1 Validación de supuestos e implementación de transformaciones requeridas en las series. 4.1.1 Procesos implementados. Antes de aplicar modelos de pronóstico, es esencial garantizar que las series de tiempo cumplan ciertos supuestos que permiten una estimación confiable y precisa. En esta etapa del análisis, nos enfocamos en evaluar tres aspectos fundamentales de cada índice bursátil: variabilidad relativa, estabilidad estadística (estacionariedad) y la necesidad de transformaciones. 1. Análisis de la Variabilidad Relativa. Cada serie temporal fue evaluada con base en su coeficiente de variación (CV), que representa la relación entre la desviación estándar y la media de la serie. Este valor permite determinar si la serie presenta heterocedasticidad, es decir, si su variabilidad aumenta proporcionalmente con su nivel. Criterio aplicado: Si el coeficiente de variación es mayor a 0.2, se considera que la serie tiene una alta variabilidad relativa y, por tanto, es candidata a una transformación logarítmica. 2. Transformación Logarítmica. Cuando una serie mostró un CV &gt; 0.2, se aplicó una transformación logarítmica. Esta transformación tiene como objetivo estabilizar la varianza, lo cual es crucial para mantener la consistencia de los modelos predictivos. La transformación convierte cambios absolutos crecientes en cambios relativos constantes, facilitando la detección de patrones. Resultado: En los índices SP500, Nasdaq y Nikkei225, por ejemplo, se aplicó esta transformación al superar el umbral de CV. 3. Evaluación de Estacionariedad con Dickey-Fuller. Para verificar la estabilidad estadística de la serie en el tiempo (es decir, su estacionariedad), se utilizó la prueba de Dickey-Fuller aumentada (ADF). Esta prueba contrasta la hipótesis nula de que la serie no es estacionaria. Criterio aplicado: Si el p-valor obtenido es menor a 0.05, se rechaza la hipótesis nula y se considera que la serie es estacionaria. Si el p-valor es mayor, se concluye que la serie no es estacionaria y se requiere una diferenciación. 4. Diferenciación: Cuando fue necesario, se aplicó la diferenciación de primer o segundo orden, utilizando la función ndiffs(), hasta lograr que la serie cumpla con el criterio de estacionariedad (p-valor &lt; 0.05 en la prueba ADF aplicada a la serie diferenciada). 4.1.2 Resumen del análisis de estacionariedad por índice bursátil SP500 Transformación logarítmica: Sí (CV = 0.225) p-valor Dickey-Fuller: 0.00848 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. DowJones Transformación logarítmica: No (CV = 0.165) p-valor Dickey-Fuller: 0.00413 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. Nasdaq Transformación logarítmica: Sí (CV = 0.263) p-valor Dickey-Fuller: 0.02449 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. DAX Transformación logarítmica: No (CV = 0.185) p-valor Dickey-Fuller: 0.09312 (no estacionaria) Diferenciación aplicada: Sí, orden 1 p-valor tras diferenciación: 0.00000 Resultado final: La serie diferenciada es estacionaria. CAC40 Transformación logarítmica: No (CV = 0.156) p-valor Dickey-Fuller: 0.00247 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. FTSE100 Transformación logarítmica: No (CV = 0.093) p-valor Dickey-Fuller: 0.00478 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. Nikkei225 Transformación logarítmica: Sí (CV = 0.208) p-valor Dickey-Fuller: 0.00237 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. HangSeng Transformación logarítmica: No (CV = 0.182) p-valor Dickey-Fuller: 0.01316 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. ShanghaiComposite Transformación logarítmica: No (CV = 0.078) p-valor Dickey-Fuller: 0.00048 ¿Diferenciación aplicada?: No. La serie ya es estacionaria. 4.1.3 Creamos el objeto tabla del resumen final. Code # Crear tabla resumen para hallazgos resumen_estacionariedad &lt;- data.frame( Indice = character(), CV = numeric(), LogTransform = character(), DickeyFuller_pvalor = numeric(), Diferenciacion = character(), stringsAsFactors = FALSE ) 4.1.4 Implementación de procesos sobre los índices bursátile en tres etapas: limpieza, transformación (si aplica), y verificación de estacionariedad, con visualizaciones intermedias. Code # Lista para guardar las series procesadas series_preparadas &lt;- list() analizar_estacionariedad_transformacion &lt;- function(serie_zoo, nombre_indice) { cat(&quot;\\n\\n==================================================\\n&quot;) cat(&quot;ANÁLISIS DE:&quot;, nombre_indice, &quot;\\n&quot;) cat(&quot;==================================================\\n&quot;) # Limpieza de la serie serie &lt;- na.omit(serie_zoo) ts_serie &lt;- ts(as.numeric(serie), frequency = 252, start = c(2019, 1)) # Coeficiente de variación coef_var &lt;- sd(ts_serie) / mean(ts_serie) necesita_log &lt;- coef_var &gt; 0.2 if (necesita_log) { ts_trans &lt;- log(ts_serie) plot(ts_trans, main = paste(&quot;Serie Transformada (Log) -&quot;, nombre_indice), xlab = &quot;Tiempo&quot;, ylab = &quot;log(Precio)&quot;) cat(&quot;Transformación logarítmica aplicada (CV =&quot;, round(coef_var, 3), &quot;)\\n&quot;) } else { ts_trans &lt;- ts_serie plot(ts_trans, main = paste(&quot;Serie Original -&quot;, nombre_indice), xlab = &quot;Tiempo&quot;, ylab = &quot;Precio&quot;) cat(&quot;No se aplica transformación logarítmica (CV =&quot;, round(coef_var, 3), &quot;)\\n&quot;) } # Prueba Dickey-Fuller prueba_df &lt;- ur.df(ts_trans, type = &quot;trend&quot;, selectlags = &quot;AIC&quot;) pvalor_df &lt;- summary(prueba_df)@testreg$coefficients[2, 4] cat(&quot;p-valor Dickey-Fuller:&quot;, round(pvalor_df, 5), &quot;\\n&quot;) # Evaluar si se requiere diferenciación if (pvalor_df &lt; 0.05) { cat(&quot;La serie transformada es estacionaria. No se aplica diferenciación.\\n&quot;) serie_final &lt;- ts_trans diferenciacion_txt &lt;- &quot;No&quot; } else { d &lt;- ndiffs(ts_trans) ts_diff &lt;- diff(ts_trans, differences = d) plot(ts_diff, main = paste(&quot;Serie Diferenciada (d =&quot;, d, &quot;) -&quot;, nombre_indice), xlab = &quot;Tiempo&quot;, ylab = &quot;Diferencia&quot;) cat(&quot;Serie NO estacionaria. Se aplica diferenciación de orden:&quot;, d, &quot;\\n&quot;) prueba_df_diff &lt;- ur.df(ts_diff, type = &quot;drift&quot;, selectlags = &quot;AIC&quot;) pvalor_diff &lt;- summary(prueba_df_diff)@testreg$coefficients[2, 4] cat(&quot;p-valor Dickey-Fuller tras diferenciación:&quot;, round(pvalor_diff, 5), &quot;\\n&quot;) if (pvalor_diff &lt; 0.05) { cat(&quot;La serie diferenciada ahora es estacionaria.\\n&quot;) } else { cat(&quot;Incluso tras diferenciación, la serie NO es estacionaria.\\n&quot;) } serie_final &lt;- ts_diff diferenciacion_txt &lt;- paste(&quot;Sí, orden&quot;, d) } # Guardar la serie transformada series_preparadas[[nombre_indice]] &lt;&lt;- serie_final # Guardar en tabla resumen resumen_estacionariedad &lt;&lt;- rbind( resumen_estacionariedad, data.frame( Indice = nombre_indice, CV = round(coef_var, 3), LogTransform = ifelse(necesita_log, &quot;Sí&quot;, &quot;No&quot;), DickeyFuller_pvalor = round(pvalor_df, 5), Diferenciacion = diferenciacion_txt ) ) } 4.1.5 Iteramos los indices bursatiles sobre la función realizada. Code for (indice in nombres_indices) { analizar_estacionariedad_transformacion(cierres_zoo[[indice]], indice) } ## ## ## ================================================== ## ANÁLISIS DE: SP500 ## ================================================== ## Transformación logarítmica aplicada (CV = 0.225 ) ## p-valor Dickey-Fuller: 0.00841 ## La serie transformada es estacionaria. No se aplica diferenciación. ## ## ## ================================================== ## ANÁLISIS DE: DowJones ## ================================================== ## No se aplica transformación logarítmica (CV = 0.165 ) ## p-valor Dickey-Fuller: 0.00406 ## La serie transformada es estacionaria. No se aplica diferenciación. ## ## ## ================================================== ## ANÁLISIS DE: Nasdaq ## ================================================== ## Transformación logarítmica aplicada (CV = 0.263 ) ## p-valor Dickey-Fuller: 0.02428 ## La serie transformada es estacionaria. No se aplica diferenciación. ## ## ## ================================================== ## ANÁLISIS DE: DAX ## ================================================== ## No se aplica transformación logarítmica (CV = 0.187 ) ## p-valor Dickey-Fuller: 0.12667 ## Serie NO estacionaria. Se aplica diferenciación de orden: 1 ## p-valor Dickey-Fuller tras diferenciación: 0 ## La serie diferenciada ahora es estacionaria. ## ## ## ================================================== ## ANÁLISIS DE: CAC40 ## ================================================== ## No se aplica transformación logarítmica (CV = 0.156 ) ## p-valor Dickey-Fuller: 0.00248 ## La serie transformada es estacionaria. No se aplica diferenciación. ## ## ## ================================================== ## ANÁLISIS DE: FTSE100 ## ================================================== ## No se aplica transformación logarítmica (CV = 0.093 ) ## p-valor Dickey-Fuller: 0.00453 ## La serie transformada es estacionaria. No se aplica diferenciación. ## ## ## ================================================== ## ANÁLISIS DE: Nikkei225 ## ================================================== ## Transformación logarítmica aplicada (CV = 0.208 ) ## p-valor Dickey-Fuller: 0.00214 ## La serie transformada es estacionaria. No se aplica diferenciación. ## ## ## ================================================== ## ANÁLISIS DE: HangSeng ## ================================================== ## No se aplica transformación logarítmica (CV = 0.182 ) ## p-valor Dickey-Fuller: 0.01609 ## La serie transformada es estacionaria. No se aplica diferenciación. ## ## ## ================================================== ## ANÁLISIS DE: ShanghaiComposite ## ================================================== ## No se aplica transformación logarítmica (CV = 0.078 ) ## p-valor Dickey-Fuller: 0.00049 ## La serie transformada es estacionaria. No se aplica diferenciación. 4.2 Tabla de resumen. Code knitr::kable( resumen_estacionariedad, caption = &quot;Resumen del análisis de estacionariedad y transformaciones aplicadas por índice bursátil&quot; ) Table 4.1: Resumen del análisis de estacionariedad y transformaciones aplicadas por índice bursátil Indice CV LogTransform DickeyFuller_pvalor Diferenciacion SP500 0.225 Sí 0.00841 No DowJones 0.165 No 0.00406 No Nasdaq 0.263 Sí 0.02428 No DAX 0.187 No 0.12667 Sí, orden 1 CAC40 0.156 No 0.00248 No FTSE100 0.093 No 0.00453 No Nikkei225 0.208 Sí 0.00214 No HangSeng 0.182 No 0.01609 No ShanghaiComposite 0.078 No 0.00049 No "],["desarrollo-actividad-4-implementación-holt---winter.html", "Chapter 5 Desarrollo actividad 4 Implementación Holt - Winter 5.1 Funciones y lógicas implementadas 5.2 Implementar modelo en todas las series de tiempo 5.3 Resultados predicción 5.4 Tabla de resumen", " Chapter 5 Desarrollo actividad 4 Implementación Holt - Winter 5.1 Funciones y lógicas implementadas Code # Lista para guardar resultados resultados_hw &lt;- list() metricas_hw &lt;- data.frame( Indice = character(), MAE = numeric(), RMSE = numeric(), MAPE = numeric(), stringsAsFactors = FALSE ) # Función para ajustar modelo Holt-Winters, graficar y guardar métricas ajustar_holt_winters &lt;- function(serie_ts, nombre_indice) { if (length(serie_ts) &lt; 30) { cat(&quot;Serie demasiado corta para aplicar Holt-Winters:&quot;, nombre_indice, &quot;\\n&quot;) return(NULL) } modelo_hw &lt;- tryCatch({ HoltWinters(serie_ts) }, error = function(e) { cat(&quot;Error en Holt-Winters para&quot;, nombre_indice, &quot;:&quot;, e$message, &quot;\\n&quot;) return(NULL) }) if (!is.null(modelo_hw)) { # Gráfico del modelo ajustado plot(modelo_hw, main = paste(&quot;Modelo Holt-Winters -&quot;, nombre_indice)) # Pronóstico a 30 días pred_hw &lt;- forecast(modelo_hw, h = 30) plot(pred_hw, main = paste(&quot;Pronóstico Holt-Winters (30 días) -&quot;, nombre_indice)) # Guardar resultados resultados_hw[[nombre_indice]] &lt;&lt;- list(modelo = modelo_hw, pronostico = pred_hw) # Evaluación en el ajuste (no en el forecast) obs &lt;- as.numeric(serie_ts) pred &lt;- as.numeric(modelo_hw$fitted[,1]) # fitted values # Calcular métricas mae &lt;- mae(obs, pred) rmse_val &lt;- rmse(obs, pred) mape_val &lt;- mape(obs, pred) * 100 # porcentaje metricas_hw &lt;&lt;- rbind(metricas_hw, data.frame( Indice = nombre_indice, MAE = round(mae, 2), RMSE = round(rmse_val, 2), MAPE = round(mape_val, 2) )) } } 5.2 Implementar modelo en todas las series de tiempo Code # Aplicamos Holt-Winters a cada serie de tiempo procesada for (indice in names(series_preparadas)) { ajustar_holt_winters(series_preparadas[[indice]], indice) } 5.3 Resultados predicción El modelo Holt-Winters permitió generar predicciones a corto plazo razonablemente precisas para la mayoría de los índices, los mejores desempeños se observaron en los mercados de EE.UU. y Japón, mientras que los índices europeos y asiáticos mostraron mayor incertidumbre.La tabla presentada muestra el pronóstico diario para los próximos 30 días de cada uno de los índices bursátiles, basado en el modelo Holt-Winters ajustado previamente. A continuación, se destacan los principales hallazgos: 1. SP500, Nasdaq y Nikkei225 Las predicciones muestran una evolución estable y creciente, en línea con la tendencia positiva observada en el ajuste histórico.Dado que estos índices fueron transformados logarítmicamente, los valores están en escala log (por ejemplo, 8.7 en SP500 ≈ exp(8.7) ≈ 6,000 puntos).La suavidad de las predicciones refleja alta confianza del modelo, coherente con su bajo error (MAPE &lt; 3%). 2. DowJones Presenta un comportamiento consistentemente ascendente, alcanzando valores proyectados por encima de 44,000 puntos,este patrón respalda la tendencia alcista de largo plazo observada en el análisis exploratorio;sin embargo, su MAPE fue de 16.9%, lo que sugiere que las predicciones deben interpretarse con precaución moderada. 3. CAC40 y FTSE100 Exhiben una trayectoria positiva con leves oscilaciones, lo cual refleja cierta estacionalidad capturada por el modelo, las predicciones se mantienen dentro de un rango realista, entre 7,700 y 9,100 puntos.Muestra un balance entre crecimiento y estabilización tras periodos volátiles. 4. DAX A diferencia de otros índices, muestra una gran variabilidad y valores negativos ocasionales en la proyección.Esto indica que el modelo Holt-Winters no logró capturar adecuadamente la dinámica del índice alemán, posiblemente por la forma en que se transformó y/o diferenció la serie. 5. HangSeng y Shanghai Composite Ambos índices presentan predicciones ligeramente crecientes, lo que sugiere un posible cambio de dirección frente a la caída previa; sin embargo, las fluctuaciones son más intensas (especialmente en HangSeng), reflejando su naturaleza volátil.La precisión de estos modelos fue moderada (MAPE entre 8% y 16%). Code # Crear tabla con pronóstico de los próximos 30 días para cada índice # Inicializamos la tabla vacía tabla_forecast_30 &lt;- data.frame(Dia = 1:30) # Agregamos cada columna de pronóstico for (indice in names(resultados_hw)) { pred &lt;- resultados_hw[[indice]]$pronostico tabla_forecast_30[[indice]] &lt;- round(as.numeric(pred$mean), 2) } # Mostrar tabla en formato limpio knitr::kable( tabla_forecast_30, caption = &quot;Predicción de los próximos 30 días por índice bursátil usando modelo Holt-Winters&quot; ) Table 5.1: Predicción de los próximos 30 días por índice bursátil usando modelo Holt-Winters Dia SP500 DowJones Nasdaq DAX CAC40 FTSE100 Nikkei225 HangSeng ShanghaiComposite 1 8.63 41031.52 9.79 -19.51 7603.13 8626.99 10.48 22897.18 3338.20 2 8.63 41055.50 9.80 80.46 7518.02 8608.32 10.45 22493.19 3276.55 3 8.64 41127.62 9.80 128.34 7462.71 8574.18 10.43 22739.12 3283.34 4 8.64 41136.08 9.82 -31.52 7495.57 8541.35 10.41 23385.92 3317.14 5 8.64 41011.44 9.82 -24.08 7547.75 8617.86 10.40 23673.12 3343.30 6 8.64 40870.19 9.81 -83.65 7596.81 8658.13 10.40 23815.80 3378.27 7 8.64 40789.69 9.82 -51.00 7603.07 8698.38 10.44 23722.76 3386.54 8 8.64 40922.00 9.82 2.15 7583.25 8706.05 10.50 23764.82 3330.42 9 8.65 41198.21 9.83 -11.25 7599.07 8730.12 10.51 23699.32 3308.61 10 8.65 41154.49 9.83 14.29 7540.77 8763.57 10.53 23751.58 3306.36 11 8.65 41271.84 9.84 -14.20 7516.24 8786.09 10.53 23660.68 3259.29 12 8.65 41308.56 9.84 -13.30 7625.47 8847.66 10.53 23857.39 3241.82 13 8.66 41572.99 9.85 -96.98 7736.70 8888.02 10.50 24374.92 3173.70 14 8.67 41750.97 9.85 -63.31 7791.85 8932.16 10.48 24478.32 3134.79 15 8.68 42132.25 9.86 -57.43 7820.92 8945.68 10.46 24516.10 3091.91 16 8.69 42380.23 9.86 53.12 7820.33 9009.81 10.48 24706.39 3064.06 17 8.69 42682.05 9.86 -101.26 7799.26 9080.73 10.51 24690.74 3070.46 18 8.70 42574.51 9.87 13.13 7787.33 9161.21 10.52 24424.95 3017.95 19 8.70 42784.66 9.87 85.63 7751.67 9195.67 10.53 24582.80 3030.38 20 8.71 43008.21 9.88 5.61 7725.17 9164.23 10.55 24629.20 3062.26 21 8.71 43165.54 9.88 -12.03 7761.68 9107.52 10.54 24319.10 3056.98 22 8.72 43534.69 9.88 -86.61 7754.87 9027.72 10.54 24207.51 3079.69 23 8.73 44094.86 9.90 128.57 7722.43 8945.79 10.55 24115.00 3077.65 24 8.74 44193.03 9.90 -206.71 7737.53 8920.36 10.55 24260.38 3087.55 25 8.74 44097.32 9.91 -145.63 7705.69 8921.29 10.56 24469.08 3073.82 26 8.72 43269.50 9.89 8.66 7686.02 8985.99 10.56 24768.07 3093.59 27 8.70 42660.85 9.87 -21.26 7742.96 9017.21 10.55 24870.81 3092.15 28 8.70 42709.63 9.88 -96.12 7738.59 9068.08 10.54 24365.33 3120.86 29 8.70 42891.58 9.89 76.97 7728.02 9053.84 10.54 24231.04 3135.10 30 8.70 42911.72 9.89 -28.31 7714.19 9092.65 10.54 24251.08 3137.74 5.4 Tabla de resumen Se calcula el error absoluto medio(MAE), la raiz del error cuadratico medio(RMSE) y el error porcentual medio absoluto(MAPE). 1. Modelos con excelente ajuste: *SP500, Nasdaq y Nikkei225 tienen errores muy bajos: *MAE y RMSE &lt; 1 *MAPE menor a 3% Esto indica que el modelo Holt-Winters representa muy bien la estructura interna de estas series. 2. Modelos aceptables pero con errores moderados: *ShanghaiComposite: MAPE de 8.68% → aceptable *FTSE100 y CAC40: alrededor del 12-16% 3. Modelos con alto error: *DowJones y HangSeng tienen MAPE de 16.9% → error alto *DAX tiene MAPE de 392% → esto es un claro problema. Code # Mostrar métricas como tabla knitr::kable( metricas_hw, caption = &quot;Evaluación del modelo Holt-Winters por índice bursátil (basado en el ajuste histórico)&quot; ) Table 5.2: Evaluación del modelo Holt-Winters por índice bursátil (basado en el ajuste histórico) Indice MAE RMSE MAPE SP500 0.24 0.29 2.81 DowJones 5728.34 7501.07 16.90 Nasdaq 0.30 0.34 3.16 DAX 99.05 168.12 392.66 CAC40 1047.58 1339.80 16.74 FTSE100 898.68 1141.28 12.15 Nikkei225 0.21 0.27 2.02 HangSeng 3745.14 4512.09 16.90 ShanghaiComposite 270.85 324.64 8.68 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
